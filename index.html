<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>FCore Numerical Library
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="F# numerical library"/>
    <meta name="author" content="StatFactory Ltd"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="./content/style.css" />
    <script type="text/javascript" src="./content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/Statfactory/FCore">github page</a></li>
        </ul>
        <h3 class="muted"><a href="./index.html">FCore</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="FCore-Numerical-Library" class="anchor" href="#FCore-Numerical-Library">FCore Numerical Library</a></h1>

<div class="row">
  <div class="span1"></div>
  <div class="span6">
    <div class="well well-small" id="nuget">
      The FCore library can be <a href="https://nuget.org/packages/FCore">installed from NuGet</a>:
      <pre>PM> Install-Package FCore</pre>
    </div>
  </div>
  <div class="span1"></div>
</div>

<h2><a name="Overview" class="anchor" href="#Overview">Overview</a></h2>

<p>FCore is a high performance .NET numerical library with an F# API. It contains F# types and functions which will allow you to create and manipulate bool and float vectors and 2D dense matrices as well as generate random numbers and calculate basic stats. 
Main features:</p>

<ul>
<li>strong and static typing: use <code>BoolVector</code>, <code>Vector</code>, <code>BoolMatrix</code> and <code>Matrix</code> types in overloaded functions and operators</li>
<li>FCore uses unmanaged memory so you can create vectors and matrices of virtually any size (64 bit memory required)</li>
<li>most functions use Math Kernel Library (MKL) or C implementation for maximum performance on Intel</li>
<li>elementwise operators: <code>.*</code>, <code>./</code>, <code>.&lt;</code> etc</li>
<li>access to all high quality random number generators from MKL</li>
<li>access to matrix factorizations and solvers from MKL</li>
<li>overloaded functions, e.g. <code>rand</code> can return a vector or a matrix, <code>mean</code> can take a vector or matrix and axis etc.</li>
<li>evaluate vector and matrix expressions without creating temporary objects, e.g. <code>(a * X + b * Y) |&gt; eval</code></li>
<li>vector and matrix slicing and indexing</li>
</ul>

<h2><a name="Example" class="anchor" href="#Example">Example</a></h2>

<p>This code example demonstrates using various functions defined in this library.</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="prep">#r</span> <span class="s">&quot;FCore.dll&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">FCore</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="i">FCore</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="i">Math</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 4)" onmouseover="showTip(event, 'fs1', 4)" class="i">FCore</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 5)" onmouseover="showTip(event, 'fs3', 5)" class="i">Random</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 6)" onmouseover="showTip(event, 'fs1', 6)" class="i">FCore</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs4', 7)" onmouseover="showTip(event, 'fs4', 7)" class="i">LinearAlgebra</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 8)" onmouseover="showTip(event, 'fs1', 8)" class="i">FCore</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 9)" onmouseover="showTip(event, 'fs5', 9)" class="i">BasicStats</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs6', 10)" onmouseover="showTip(event, 'fs6', 10)" class="i">rng</span> <span class="o">=</span> <span class="k">new</span> <span onmouseout="hideTip(event, 'fs7', 11)" onmouseover="showTip(event, 'fs7', 11)" class="t">MT19937Rng</span>() <span class="c">// create a Mersenne Twister random number generator</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs8', 12)" onmouseover="showTip(event, 'fs8', 12)" class="i">vector1</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs9', 13)" onmouseover="showTip(event, 'fs9', 13)" class="t">Vector</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="f">rand</span> <span onmouseout="hideTip(event, 'fs6', 15)" onmouseover="showTip(event, 'fs6', 15)" class="i">rng</span> <span class="n">5</span> <span class="c">// create a random vector with 5 elements</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs11', 16)" onmouseover="showTip(event, 'fs11', 16)" class="i">boolVector</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 17)" onmouseover="showTip(event, 'fs8', 17)" class="i">vector1</span> <span class="o">.</span><span class="o">&lt;</span> <span class="n">0.5</span> <span class="c">// compare elementwise</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 18)" onmouseover="showTip(event, 'fs12', 18)" class="i">matrix1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 19)" onmouseover="showTip(event, 'fs10', 19)" class="f">rand</span> <span onmouseout="hideTip(event, 'fs6', 20)" onmouseover="showTip(event, 'fs6', 20)" class="i">rng</span> <span class="n">5</span> <span class="n">5</span> <span class="c">// create a random matrix 5x5</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 21)" onmouseover="showTip(event, 'fs13', 21)" class="i">vector2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 22)" onmouseover="showTip(event, 'fs14', 22)" class="f">exp</span>(<span onmouseout="hideTip(event, 'fs8', 23)" onmouseover="showTip(event, 'fs8', 23)" class="i">vector1</span>) <span class="o">+</span> <span class="n">2.0</span> <span class="c">// apply exp to a vector</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs15', 24)" onmouseover="showTip(event, 'fs15', 24)" class="i">matrix2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs14', 25)" onmouseover="showTip(event, 'fs14', 25)" class="f">exp</span>(<span onmouseout="hideTip(event, 'fs12', 26)" onmouseover="showTip(event, 'fs12', 26)" class="i">matrix1</span>) <span class="o">+</span> <span class="n">2.0</span> <span class="c">// apply exp to a matrix</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 27)" onmouseover="showTip(event, 'fs16', 27)" class="i">l</span>, <span onmouseout="hideTip(event, 'fs17', 28)" onmouseover="showTip(event, 'fs17', 28)" class="i">u</span>, <span onmouseout="hideTip(event, 'fs18', 29)" onmouseover="showTip(event, 'fs18', 29)" class="i">p</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs19', 30)" onmouseover="showTip(event, 'fs19', 30)" class="f">lu</span> <span onmouseout="hideTip(event, 'fs12', 31)" onmouseover="showTip(event, 'fs12', 31)" class="i">matrix1</span> <span class="c">// LU factorization</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 32)" onmouseover="showTip(event, 'fs20', 32)" class="i">variance1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 33)" onmouseover="showTip(event, 'fs21', 33)" class="f">var</span> <span onmouseout="hideTip(event, 'fs8', 34)" onmouseover="showTip(event, 'fs8', 34)" class="i">vector1</span> <span class="c">// calculate variance of a vector</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs22', 35)" onmouseover="showTip(event, 'fs22', 35)" class="i">variance2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs21', 36)" onmouseover="showTip(event, 'fs21', 36)" class="f">var</span> <span onmouseout="hideTip(event, 'fs12', 37)" onmouseover="showTip(event, 'fs12', 37)" class="i">matrix1</span> <span onmouseout="hideTip(event, 'fs23', 38)" onmouseover="showTip(event, 'fs23', 38)" class="p">ColumnAxis</span> <span class="c">// calculate variance of each column of a matrix</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 39)" onmouseover="showTip(event, 'fs24', 39)" class="i">vector4</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 40)" onmouseover="showTip(event, 'fs25', 40)" class="f">log</span>((<span onmouseout="hideTip(event, 'fs13', 41)" onmouseover="showTip(event, 'fs13', 41)" class="i">vector2</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs26', 42)" onmouseover="showTip(event, 'fs26', 42)" class="i">AsExpr</span> <span class="o">+</span> <span class="n">3.0</span>) <span class="o">.</span><span class="o">^</span> <span class="n">3</span>) <span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs27', 43)" onmouseover="showTip(event, 'fs27', 43)" class="f">eval</span> <span class="c">// avoid creating temporary vectors</span>
<span onmouseout="hideTip(event, 'fs28', 44)" onmouseover="showTip(event, 'fs28', 44)" class="t">MklControl</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs29', 45)" onmouseover="showTip(event, 'fs29', 45)" class="f">SetMaxThreads</span>(<span class="n">4</span>) <span class="c">// set MKL to use up to 4 threads</span>
</code></pre></td>
</tr>
</table>

<p>And the variable <code>matrix1</code> has the following value:</p>

<table class="pre"><tr><td><pre><code>Size = [5,5]
   0.063106823945418   0.449491061968729   0.209954808698967   0.835765105206519   0.767157634953037
   0.255069031380117   0.472245238954201  0.0938595859333873   0.389808806823567 0.00210604956373572
   0.117918702075258   0.651592976180837   0.487856656778604   0.432767064776272   0.695832869037986
   0.495435087708756   0.379615222569555  0.0283474717289209   0.607437995728105   0.445387195097283
   0.760962442494929   0.788723354693502   0.893317037727684   0.762280077906325   0.266330555779859

</code></pre></td></tr></table>

<h2><a name="Documentation" class="anchor" href="#Documentation">Documentation</a></h2>

<p>The library comes with a comprehensive library guide:</p>

<ul>
<li><a href="BoolVector.html">BoolVector</a> introduces BoolVector type and related functions</li>
<li><a href="Vector.html">Vector</a> introduces Vector type and related functions</li>
<li><a href="BoolMatrix.html">BoolMatrix</a> introduces BoolMatrix type and related functions</li>
<li><a href="Matrix.html">Matrix</a> introduces Matrix type and related functions</li>
<li><a href="LinearAlgebra.html">Linear Algebra</a> introduces matrix factorizations and linear solvers</li>
<li><a href="VectorAndMatrixFunctions.html">Vector and Matrix Functions</a> introduces vector and matrix functions</li>
<li><a href="RandomNumberGenerators.html">Random Number Generators</a> introduces random number generators</li>
<li><a href="BasicStats.html">Basic Stats</a> introduces basic statistical functions</li>
<li><a href="VectorAndMatrixExpressions.html">Vector and Matrix Expressions</a> introduces vector and matrix expressions</li>
<li><a href="PiMonteCarlo.html">FCore vs Matlab: Pi Monte Carlo</a> compares Matlab and FCore implementations of Pi MC algorithm</li>
<li><a href="BinomialOption.html">FCore vs Matlab: American Option Binomial Pricing</a> compares Matlab and FCore implementations of binomial option pricing</li>
<li><a href="LSMOption.html">FCore vs Matlab: American Option LS MC</a> compares Matlab and FCore implementations of Least Squares MC option pricing</li>
</ul>

<h2><a name="Contributing-and-copyright" class="anchor" href="#Contributing-and-copyright">Contributing and copyright</a></h2>

<p>The project is hosted on <a href="https://github.com/Statfactory/FCore">GitHub</a> where you can <a href="https://github.com/Statfactory/FCore/issues">report issues</a>, fork 
the project and submit pull requests. If you're adding a new public API, please also 
consider adding <a href="https://github.com/Statfactory/FCore/tree/master/docs/content">samples</a> that can be turned into a documentation.</p>

<p>The library source code is available under MIT/X11 license. For more information see the 
<a href="https://github.com/Statfactory/FCore/blob/master/LICENSE.txt">License file</a> in the GitHub repository.</p>

<p>The library uses Intel Math Kernel Library for high performance. This software is not open source and therefore FCore distribution on Nuget has its own license.</p>

<div class="tip" id="fs1">namespace FCore</div>
<div class="tip" id="fs2">module Math<br /><br />from FCore</div>
<div class="tip" id="fs3">module Random<br /><br />from FCore</div>
<div class="tip" id="fs4">module LinearAlgebra<br /><br />from FCore</div>
<div class="tip" id="fs5">module BasicStats<br /><br />from FCore</div>
<div class="tip" id="fs6">val rng : MT19937Rng<br /><br />Full name: Index.rng</div>
<div class="tip" id="fs7">Multiple items<br />type MT19937Rng =<br />&#160;&#160;inherit MklRng<br />&#160;&#160;new : unit -&gt; MT19937Rng<br />&#160;&#160;new : streamPtr:IntPtr -&gt; MT19937Rng<br />&#160;&#160;new : seed:uint32 -&gt; MT19937Rng<br />&#160;&#160;new : seeds:uint32 [] -&gt; MT19937Rng<br />&#160;&#160;member Copy : unit -&gt; MT19937Rng<br />&#160;&#160;member SkipAhead : nSkip:int -&gt; unit<br />&#160;&#160;member SkipAhead : nSkip:int64 -&gt; unit<br /><br />Full name: FCore.MT19937Rng<br /><br />--------------------<br />new : unit -&gt; MT19937Rng<br />new : seeds:uint32 [] -&gt; MT19937Rng<br />new : seed:uint32 -&gt; MT19937Rng<br />new : streamPtr:System.IntPtr -&gt; MT19937Rng</div>
<div class="tip" id="fs8">val vector1 : Vector<br /><br />Full name: Index.vector1</div>
<div class="tip" id="fs9">Multiple items<br />type Vector =<br />&#160;&#160;interface IDisposable<br />&#160;&#160;interface IFormattable<br />&#160;&#160;new : data:float -&gt; Vector<br />&#160;&#160;new : data:seq&lt;float&gt; -&gt; Vector<br />&#160;&#160;new : length:int * initializer:(int -&gt; float) -&gt; Vector<br />&#160;&#160;new : data:float [] * copyData:bool -&gt; Vector<br />&#160;&#160;new : length:int * init:float -&gt; Vector<br />&#160;&#160;new : length:int64 * init:float -&gt; Vector<br />&#160;&#160;new : length:int64 * nativeArray:nativeptr&lt;float&gt; * gcHandlePtr:IntPtr * isView:bool * parentVector:Vector option -&gt; Vector<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;...<br /><br />Full name: FCore.Vector<br /><br />--------------------<br />new : data:seq&lt;float&gt; -&gt; Vector<br />new : data:float -&gt; Vector<br />new : length:int64 * init:float -&gt; Vector<br />new : length:int * init:float -&gt; Vector<br />new : data:float [] * copyData:bool -&gt; Vector<br />new : length:int * initializer:(int -&gt; float) -&gt; Vector<br />new : length:int64 * nativeArray:nativeptr&lt;float&gt; * gcHandlePtr:System.IntPtr * isView:bool * parentVector:Vector option -&gt; Vector</div>
<div class="tip" id="fs10">val rand : rng:&#39;T -&gt; &#39;S (requires member op_Explicit)<br /><br />Full name: FCore.Random.rand</div>
<div class="tip" id="fs11">val boolVector : BoolVector<br /><br />Full name: Index.boolVector</div>
<div class="tip" id="fs12">val matrix1 : Matrix<br /><br />Full name: Index.matrix1</div>
<div class="tip" id="fs13">val vector2 : Vector<br /><br />Full name: Index.vector2</div>
<div class="tip" id="fs14">val exp : value:&#39;T -&gt; &#39;T (requires member Exp)<br /><br />Full name: Microsoft.FSharp.Core.Operators.exp</div>
<div class="tip" id="fs15">val matrix2 : Matrix<br /><br />Full name: Index.matrix2</div>
<div class="tip" id="fs16">val l : Matrix<br /><br />Full name: Index.l</div>
<div class="tip" id="fs17">val u : Matrix<br /><br />Full name: Index.u</div>
<div class="tip" id="fs18">val p : int []<br /><br />Full name: Index.p</div>
<div class="tip" id="fs19">val lu : x:Matrix -&gt; Matrix * Matrix * int []<br /><br />Full name: FCore.LinearAlgebra.lu</div>
<div class="tip" id="fs20">val variance1 : float<br /><br />Full name: Index.variance1</div>
<div class="tip" id="fs21">val var : x:&#39;S -&gt; &#39;U (requires member Variance)<br /><br />Full name: FCore.BasicStats.var</div>
<div class="tip" id="fs22">val variance2 : Vector<br /><br />Full name: Index.variance2</div>
<div class="tip" id="fs23">union case MatrixAxis.ColumnAxis: MatrixAxis</div>
<div class="tip" id="fs24">val vector4 : Vector<br /><br />Full name: Index.vector4</div>
<div class="tip" id="fs25">val log : value:&#39;T -&gt; &#39;T (requires member Log)<br /><br />Full name: Microsoft.FSharp.Core.Operators.log</div>
<div class="tip" id="fs26">property Vector.AsExpr: VectorExpr</div>
<div class="tip" id="fs27">val eval : expr:&#39;S -&gt; &#39;U (requires member EvalIn)<br /><br />Full name: FCore.Math.eval</div>
<div class="tip" id="fs28">type MklControl =<br />&#160;&#160;static member DisableFastMM : unit -&gt; unit<br />&#160;&#160;static member FreeBuffers : unit -&gt; unit<br />&#160;&#160;static member MemStat : unit -&gt; int64<br />&#160;&#160;static member SetMaxThreads : n:int -&gt; unit<br />&#160;&#160;static member ThreadFreeBuffers : unit -&gt; unit<br /><br />Full name: FCore.MklControl</div>
<div class="tip" id="fs29">static member MklControl.SetMaxThreads : n:int -&gt; unit</div>

        </div>
        <div class="span3">
          <img src="./img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">FCore</li>
            <li><a href="./index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/FCore">Get Library via NuGet</a></li>
            <li><a href="http://github.com/Statfactory/FCore">Source Code on GitHub</a></li>
            <li><a href="./license.html">License</a></li>
            <li><a href="./release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Library Guide</li>

            <li><a href="./BoolVector.html">BoolVector</a></li>
            <li><a href="./Vector.html">Vector</a></li>
            <li><a href="./BoolMatrix.html">BoolMatrix</a></li>
            <li><a href="./Matrix.html">Matrix</a></li>
            <li><a href="./LinearAlgebra.html">Linear Algebra</a></li>
            <li><a href="./VectorAndMatrixFunctions.html">Vector and Matrix Functions</a></li>
            <li><a href="./RandomNumberGenerators.html">Random Number Generators</a></li>
            <li><a href="./BasicStats.html">Basic Stats</a></li>
            <li><a href="./VectorAndMatrixExpressions.html">Vector and Matrix Expressions</a></li>



   <li><a href="./PiMonteCarlo.html">FCore vs Matlab: Pi Monte Carlo</a></li>  <li><a href="./BinomialOption.html">FCore vs Matlab: Binomial Option Pricing</a></li>  <li><a href="./LSMOption.html">FCore vs Matlab: Least Squares MC Option Pricing</a></li>       </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/Statfactory/FCore"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
