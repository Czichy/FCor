<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Vector and Matrix Functions
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="F# numerical library"/>
    <meta name="author" content="StatFactory Ltd"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="./content/style.css" />
    <script type="text/javascript" src="./content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/Statfactory/FCore">github page</a></li>
        </ul>
        <h3 class="muted"><a href="./index.html">FCore</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="Vector-and-Matrix-Functions" class="anchor" href="#Vector-and-Matrix-Functions">Vector and Matrix Functions</a></h1>

<p>FCore provides math functions which can be applied elementwise to vectors and matrices, e.g. <code>sin</code>.
In addition, there are function for manipulating vectors and matrices, e.g. <code>diag</code> and <code>triL</code>.</p>

<h2><a name="Elementwise-math-functions" class="anchor" href="#Elementwise-math-functions">Elementwise math functions</a></h2>

<p>The following math functions can be applied to scalars, vectors and matrices:</p>

<ul>
<li><code>abs</code> calculates absolute value</li>
<li><code>sqrt</code> calculates square root</li>
<li><code>exp</code> calculates exponential</li>
<li><code>expm1</code> calculates exp(x)-1 accurately for small values</li>
<li><code>log</code> calculates natural logarithm</li>
<li><code>log1p</code> calculates log(1+x) accurately for small values</li>
<li><code>log10</code> calculates base 10 logarithm</li>
<li><code>cos</code> calculates cosine</li>
<li><code>sin</code> calculates sine</li>
<li><code>tan</code> calculates tangent</li>
<li><code>acos</code> calculates inverse cosine</li>
<li><code>asin</code> calculates inverse sine</li>
<li><code>atan</code> calculates inverse tangent</li>
<li><code>cosh</code> calculates hyperbolic cosine</li>
<li><code>sinh</code> calculates hyperbolic sine</li>
<li><code>tanh</code> calculates hyperbolic tangent</li>
<li><code>acosh</code> calculates inverse hyperbolic cosine</li>
<li><code>asinh</code> calculates inverse hyperbolic sine</li>
<li><code>atanh</code> calculates inverse hyperbolic tangent</li>
<li><code>erf</code> calculates error function</li>
<li><code>erfc</code> calculates complementary error function</li>
<li><code>erfinv</code> calculates inverse error function</li>
<li><code>erfcinv</code> calculates inverse complementary error function</li>
<li><code>normcdf</code> calculates standard normal cumulative distribution function</li>
<li><code>norminv</code> calculates inverse standard normal cumulative distribution function</li>
<li><code>floor</code> rounds to integer value towards minus infinity</li>
<li><code>ceil</code> rounds to integer value towards plus infinity</li>
<li><code>round</code> rounds to nearest integer</li>
<li><code>trunc</code> truncates fractional part</li>
</ul>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="prep">#r</span> <span class="s">&quot;FCore.dll&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="i">FCore</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 2)" onmouseover="showTip(event, 'fs1', 2)" class="i">FCore</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 3)" onmouseover="showTip(event, 'fs2', 3)" class="i">Math</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs1', 4)" onmouseover="showTip(event, 'fs1', 4)" class="i">FCore</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 5)" onmouseover="showTip(event, 'fs3', 5)" class="i">ExplicitConversion</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="i">System</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="i">v1</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="t">Vector</span><span class="o">=</span> <span class="o">!!</span>[<span class="n">1.0</span>;<span class="n">2.0</span>;<span class="n">3.0</span>]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs7', 9)" onmouseover="showTip(event, 'fs7', 9)" class="i">m1</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs8', 10)" onmouseover="showTip(event, 'fs8', 10)" class="t">Matrix</span> <span class="o">=</span> <span class="o">!!</span>[[<span class="n">1.0</span>;<span class="n">2.0</span>;<span class="n">3.0</span>]
                     [<span class="n">4.0</span>;<span class="n">5.0</span>;<span class="n">6.0</span>]]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs9', 11)" onmouseover="showTip(event, 'fs9', 11)" class="i">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 12)" onmouseover="showTip(event, 'fs10', 12)" class="f">exp</span> <span class="n">2.0</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs11', 13)" onmouseover="showTip(event, 'fs11', 13)" class="i">v2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="f">exp</span> <span onmouseout="hideTip(event, 'fs5', 15)" onmouseover="showTip(event, 'fs5', 15)" class="i">v1</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 16)" onmouseover="showTip(event, 'fs12', 16)" class="i">m2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 17)" onmouseover="showTip(event, 'fs10', 17)" class="f">exp</span> <span onmouseout="hideTip(event, 'fs7', 18)" onmouseover="showTip(event, 'fs7', 18)" class="i">m1</span>
</code></pre></td>
</tr>
</table>

<p>This gives a value for a of:</p>

<table class="pre"><tr><td><pre><code>0.3</code></pre></td></tr></table>

<p>This gives a value for v2 of:</p>

<table class="pre"><tr><td><pre><code>Length = 2
  17
  39

</code></pre></td></tr></table>

<p>This gives a value for m2 of:</p>

<table class="pre"><tr><td><pre><code>Size = [300,400]
    0.869222508216846    0.812992227642328    0.407803585942743    0.879887296762265     0.16490799196293    0.274524977558537    0.199321290105265    0.929047623150538    0.681704598796416    0.509768557040844                  ...
    0.944371734719897    0.979160612439346    0.939164211479558 9.39550809999719E-05    0.957128533142213    0.726376358757902   0.0669005122347272    0.416165974184948   0.0906217280265976   0.0755548132935328                  ...
    0.533684681418205    0.258792237033505    0.785487182338483    0.926403182524444    0.986424761352327   0.0239328201971635    0.446948135945456    0.553147572815953    0.869634640342386    0.913468206726698                  ...
     0.36221855523168   0.0530183599577371    0.863727241225414    0.676716270240357    0.597643826435154    0.603485916556551    0.825917985209226     0.67105339917869    0.543064075309347      0.9512139004428                  ...
    0.710644193790222    0.069834314319228    0.891512489361461    0.636410494631347    0.304193599756897    0.040134375467959    0.969408567980588    0.157661394755198    0.103037969257235    0.697802955609655                  ...
    0.181488867467963    0.428434502067247    0.133758042069971    0.251955612679923    0.135549941163301    0.157908632959197    0.480670701004877    0.228966445768702     0.69493995685826    0.393686719422083                  ...
    0.405796641672867    0.527395945753621    0.899810423562215   0.0635579726954726   0.0800182880275037     0.62500497401925    0.998489907010687    0.821476653135138     0.17728918100581    0.202770169918784                  ...
    0.887522722542064    0.420096480483234    0.881934952867187    0.476286739798396    0.851753034559895    0.494548743821005    0.101003233390396    0.750212578917953    0.984518069766703    0.635341210120982                  ...
    0.383370291154538    0.454868319656173    0.020306010274359    0.424199434194807    0.916635329330636    0.447758699044473    0.560278971474748    0.562187251896685    0.826193189167508     0.89449000959028                  ...
    0.656057688713101   0.0479815826043401    0.561000856366475   0.0319425077326328   0.0517493053580398    0.490953169991706    0.396518791279066    0.539392345370442   0.0882415548377864     0.91907474907072                  ...
                  ...                  ...                  ...                  ...                  ...                  ...                  ...                  ...                  ...                  ...                  ...
</code></pre></td></tr></table>

<h2><a name="Manipulating-vectors-and-matrices" class="anchor" href="#Manipulating-vectors-and-matrices">Manipulating vectors and matrices</a></h2>

<p>You can extract lower or upper triangular matrix:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs13', 19)" onmouseover="showTip(event, 'fs13', 19)" class="i">m3</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs8', 20)" onmouseover="showTip(event, 'fs8', 20)" class="t">Matrix</span> <span class="o">=</span> <span class="o">!!</span>[[<span class="n">1.0</span>;<span class="n">2.0</span>;<span class="n">3.0</span>]
                     [<span class="n">4.0</span>;<span class="n">5.0</span>;<span class="n">6.0</span>]
                     [<span class="n">7.0</span>;<span class="n">8.0</span>;<span class="n">9.0</span>]
                     [<span class="n">10.0</span>;<span class="n">11.0</span>;<span class="n">12.0</span>]]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs14', 21)" onmouseover="showTip(event, 'fs14', 21)" class="i">m4</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 22)" onmouseover="showTip(event, 'fs15', 22)" class="f">triU</span> <span onmouseout="hideTip(event, 'fs13', 23)" onmouseover="showTip(event, 'fs13', 23)" class="i">m3</span> <span class="n">0</span> <span class="c">// offset = 0 means main diagonal</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs16', 24)" onmouseover="showTip(event, 'fs16', 24)" class="i">m5</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs17', 25)" onmouseover="showTip(event, 'fs17', 25)" class="f">triL</span> <span onmouseout="hideTip(event, 'fs13', 26)" onmouseover="showTip(event, 'fs13', 26)" class="i">m3</span> <span class="n">1L</span><span class="c">// offset = 0L mean 1 above main diagonal, note offset can be int64</span>
</code></pre></td>
</tr>
</table>

<p>This gives a value for m4 of:</p>

<table class="pre"><tr><td><pre><code>Size = [4,3]
   1   2   3
   0   5   6
   0   0   9
   0   0   0

</code></pre></td></tr></table>

<p>This gives a value for m5 of:</p>

<table class="pre"><tr><td><pre><code>Size = [4,3]
   1   2   0
   4   5   6
   7   8   9
  10  11  12

</code></pre></td></tr></table>

<p><code>diag</code> function can extract main or offset diagonal from a matrix:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs18', 27)" onmouseover="showTip(event, 'fs18', 27)" class="i">v3</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs19', 28)" onmouseover="showTip(event, 'fs19', 28)" class="f">diag</span> <span onmouseout="hideTip(event, 'fs13', 29)" onmouseover="showTip(event, 'fs13', 29)" class="i">m3</span> <span class="o">-</span><span class="n">1</span> <span class="c">// extract diagonal below main diagonal as vector</span>
</code></pre></td>
</tr>
</table>

<p>This gives a value for v3 of:</p>

<table class="pre"><tr><td><pre><code>Length = 3
   4
   8
  12

</code></pre></td></tr></table>

<p><code>diag</code> can also create a matrix with given diagonal from a vector:</p>

<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs20', 30)" onmouseover="showTip(event, 'fs20', 30)" class="i">v4</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs6', 31)" onmouseover="showTip(event, 'fs6', 31)" class="t">Vector</span> <span class="o">=</span> <span class="o">!!</span>[<span class="n">1.0</span>;<span class="n">2.0</span>;<span class="n">3.0</span>]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs21', 32)" onmouseover="showTip(event, 'fs21', 32)" class="i">m6</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs19', 33)" onmouseover="showTip(event, 'fs19', 33)" class="f">diag</span> <span onmouseout="hideTip(event, 'fs20', 34)" onmouseover="showTip(event, 'fs20', 34)" class="i">v4</span> <span class="n">1</span> <span class="c">//diagonal above main diagonal will be equal to given vector, all other elements are zero</span>
</code></pre></td>
</tr>
</table>

<p>This gives a value for m6 of:</p>

<table class="pre"><tr><td><pre><code>Size = [4,4]
   0   1   0   0
   0   0   2   0
   0   0   0   3
   0   0   0   0

</code></pre></td></tr></table>

<div class="tip" id="fs1">namespace FCore</div>
<div class="tip" id="fs2">module Math<br /><br />from FCore</div>
<div class="tip" id="fs3">module ExplicitConversion<br /><br />from FCore</div>
<div class="tip" id="fs4">namespace System</div>
<div class="tip" id="fs5">val v1 : Vector<br /><br />Full name: VectorAndMatrixFunctions.v1</div>
<div class="tip" id="fs6">Multiple items<br />type Vector =<br />&#160;&#160;interface IDisposable<br />&#160;&#160;interface IFormattable<br />&#160;&#160;new : data:float -&gt; Vector<br />&#160;&#160;new : data:seq&lt;float&gt; -&gt; Vector<br />&#160;&#160;new : length:int * initializer:(int -&gt; float) -&gt; Vector<br />&#160;&#160;new : data:float [] * copyData:bool -&gt; Vector<br />&#160;&#160;new : length:int * init:float -&gt; Vector<br />&#160;&#160;new : length:int64 * init:float -&gt; Vector<br />&#160;&#160;new : length:int64 * nativeArray:nativeptr&lt;float&gt; * gcHandlePtr:IntPtr * isView:bool * parentVector:Vector option -&gt; Vector<br />&#160;&#160;member Dispose : unit -&gt; unit<br />&#160;&#160;...<br /><br />Full name: FCore.Vector<br /><br />--------------------<br />new : data:seq&lt;float&gt; -&gt; Vector<br />new : data:float -&gt; Vector<br />new : length:int64 * init:float -&gt; Vector<br />new : length:int * init:float -&gt; Vector<br />new : data:float [] * copyData:bool -&gt; Vector<br />new : length:int * initializer:(int -&gt; float) -&gt; Vector<br />new : length:int64 * nativeArray:nativeptr&lt;float&gt; * gcHandlePtr:IntPtr * isView:bool * parentVector:Vector option -&gt; Vector</div>
<div class="tip" id="fs7">val m1 : Matrix<br /><br />Full name: VectorAndMatrixFunctions.m1</div>
<div class="tip" id="fs8">Multiple items<br />type Matrix =<br />&#160;&#160;interface IDisposable<br />&#160;&#160;interface IFormattable<br />&#160;&#160;new : data:float -&gt; Matrix<br />&#160;&#160;new : dataRows:seq&lt;float array&gt; -&gt; Matrix<br />&#160;&#160;new : dataRows:seq&lt;float list&gt; -&gt; Matrix<br />&#160;&#160;new : dataRows:seq&lt;seq&lt;float&gt;&gt; -&gt; Matrix<br />&#160;&#160;new : data:float [,] -&gt; Matrix<br />&#160;&#160;new : colMajorDataVector:Vector -&gt; Matrix<br />&#160;&#160;new : rowCount:int * colCount:int * initializer:(int -&gt; int -&gt; float) -&gt; Matrix<br />&#160;&#160;new : rowCount:int * colCount:int * colMajorDataSeq:seq&lt;float&gt; -&gt; Matrix<br />&#160;&#160;...<br /><br />Full name: FCore.Matrix<br /><br />--------------------<br />new : colMajorDataVector:Vector -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />new : data:float [,] -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />new : dataRows:seq&lt;seq&lt;float&gt;&gt; -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />new : dataRows:seq&lt;float list&gt; -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />new : dataRows:seq&lt;float array&gt; -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />new : data:float -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />new : rowCount:int64 * colCount:int64 * colMajorDataVector:Vector -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />new : rowCount:int * colCount:int * colMajorDataVector:Vector -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />new : rowCount:int64 * colCount:int64 * init:float -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em><br />new : rowCount:int * colCount:int * init:float -&gt; Matrix<br />&#160;&#160;&#160;<em>(+0 other overloads)</em></div>
<div class="tip" id="fs9">val a : float<br /><br />Full name: VectorAndMatrixFunctions.a</div>
<div class="tip" id="fs10">val exp : value:&#39;T -&gt; &#39;T (requires member Exp)<br /><br />Full name: Microsoft.FSharp.Core.Operators.exp</div>
<div class="tip" id="fs11">val v2 : Vector<br /><br />Full name: VectorAndMatrixFunctions.v2</div>
<div class="tip" id="fs12">val m2 : Matrix<br /><br />Full name: VectorAndMatrixFunctions.m2</div>
<div class="tip" id="fs13">val m3 : Matrix<br /><br />Full name: VectorAndMatrixFunctions.m3</div>
<div class="tip" id="fs14">val m4 : Matrix<br /><br />Full name: VectorAndMatrixFunctions.m4</div>
<div class="tip" id="fs15">val triU : matrix:&#39;S -&gt; offset:&#39;U -&gt; &#39;S (requires member UpperTri)<br /><br />Full name: FCore.Math.triU</div>
<div class="tip" id="fs16">val m5 : Matrix<br /><br />Full name: VectorAndMatrixFunctions.m5</div>
<div class="tip" id="fs17">val triL : matrix:&#39;S -&gt; offset:&#39;U -&gt; &#39;S (requires member LowerTri)<br /><br />Full name: FCore.Math.triL</div>
<div class="tip" id="fs18">val v3 : Vector<br /><br />Full name: VectorAndMatrixFunctions.v3</div>
<div class="tip" id="fs19">val diag : x:&#39;S -&gt; offset:&#39;U -&gt; &#39;V (requires member Diag)<br /><br />Full name: FCore.Math.diag</div>
<div class="tip" id="fs20">val v4 : Vector<br /><br />Full name: VectorAndMatrixFunctions.v4</div>
<div class="tip" id="fs21">val m6 : Matrix<br /><br />Full name: VectorAndMatrixFunctions.m6</div>

        </div>
        <div class="span3">
          <img src="./img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">FCore</li>
            <li><a href="./index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/FCore">Get Library via NuGet</a></li>
            <li><a href="http://github.com/Statfactory/FCore">Source Code on GitHub</a></li>
            <li><a href="./license.html">License</a></li>
            <li><a href="./release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Library Guide</li>

            <li><a href="./BoolVector.html">BoolVector</a></li>
            <li><a href="./Vector.html">Vector</a></li>
            <li><a href="./BoolMatrix.html">BoolMatrix</a></li>
            <li><a href="./Matrix.html">Matrix</a></li>
            <li><a href="./LinearAlgebra.html">Linear Algebra</a></li>
            <li><a href="./VectorAndMatrixFunctions.html">Vector and Matrix Functions</a></li>
            <li><a href="./RandomNumberGenerators.html">Random Number Generators</a></li>
            <li><a href="./BasicStats.html">Basic Stats</a></li>
            <li><a href="./VectorAndMatrixExpressions.html">Vector and Matrix Expressions</a></li>



   <li><a href="./PiMonteCarlo.html">FCore vs Matlab: Pi Monte Carlo</a></li>  <li><a href="./BinomialOption.html">FCore vs Matlab: Binomial Option Pricing</a></li>  <li><a href="./LSMOption.html">FCore vs Matlab: Least Squares MC Option Pricing</a></li>       </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/Statfactory/FCore"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
